<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">


<ui:composition template="/WEB-INF/templates/BasicTemplate.xhtml">
	<ui:define name="content">
		<h:form id="form">
			<p:panel id="panel" header="Modificacion de POI">
				<p:messages id="msgs" />
				<h:panelGrid columns="3" cellpadding="5">
					
					<p:outputLabel for="TIPO" value="Tipo:" />
					<p:inputMask id="TIPO" value="#{modificacionPOI.tipoPOI.name()}" readonly="true" />
					<h:outputText value="" />
					
					<p:outputLabel for="Nombre" value="Nombre: " />
					<p:inputMask id="Nombre" value="#{modificacionPOI.nombre}" required="true" />
					<h:outputText value="" />
					
					<p:outputLabel for="CallePrincipal" value="Calle Principal:" />
					<p:inputMask id="CallePrincipal" value="#{modificacionPOI.callePrincipal}" />
					<h:outputText value="" />
					
					<p:outputLabel for="CalleLateral" value="Calle Lateral:" />
					<p:inputMask id="CalleLateral" value="#{modificacionPOI.calleLateral}" />
					<h:outputText value="" />
					
					<p:outputLabel for="numeracion" value="Numeracion:"/>
					<p:inputMask id="numeracion" value="#{modificacionPOI.numeracion}" mask="9?99999" maxlength="6" />
					<p:outputLabel value="La numeracion debe ser solo de caracteres numericos y hasta 6 digitos" 
					style="font-size:12px; color:red;" />

					<p:outputLabel for="piso" value="Piso:" />
					<p:inputMask id="piso" value="#{modificacionPOI.piso}" mask="9?99" maxlength="3" />
					<p:outputLabel value="El piso debe ser solo de caracteres numericos y hasta 3 digitos" 
					style="font-size:12px; color:red;" />
					
					<p:outputLabel for="departamento" value="Departamento:" />
					<p:inputMask id="departamento" value="#{modificacionPOI.departamento}" />
					<h:outputText value="" />
					
					<p:outputLabel for="unidad" value="Unidad:" />
					<p:inputMask id="unidad" value="#{modificacionPOI.unidad}" />
					<h:outputText value="" />
					
					<p:outputLabel for="codigoPostal" value="Codigo Postal:" />
					<p:inputMask id="codigoPostal" value="#{modificacionPOI.codigoPostal}" mask="9?999" maxlength="4" />
					<p:outputLabel value="El codigo postal debe ser solo de caracteres numericos y hasta 4 digitos" 
					style="font-size:12px; color:red;" />

					<p:outputLabel for="localidad" value="Localidad:" />
					<p:inputMask id="localidad" value="#{modificacionPOI.localidad}" />
					<h:outputText value="" />
					
					<p:outputLabel for="barrio" value="Barrio:" />
					<p:inputMask id="barrio" value="#{modificacionPOI.barrio}" />
					<h:outputText value="" />
					
					<p:outputLabel for="provincia" value="Provincia:" />
					<p:inputMask id="provincia" value="#{modificacionPOI.provincia}" />
					<h:outputText value="" />
					
					<p:outputLabel for="pais" value="Pais:" />
					<p:inputMask id="pais" value="#{modificacionPOI.pais}" />
					<h:outputText value="" />
					
					<p:outputLabel for="LATITUD" value="Latitud" />
					<p:inputMask id="LATITUD" value="#{modificacionPOI.latitud}" mask="9?99999" maxlength="6"
						required="true" />
					<p:outputLabel value="La latitud debe ser solo de caracteres numericos y hasta 6 digitos" 
					style="font-size:12px; color:red;" />

					<p:outputLabel for="LONGITUD" value="Longitud" />
					<p:inputMask id="LONGITUD" value="#{modificacionPOI.longitud}" mask="9?99999" maxlength="6"
						required="true" />
					<p:outputLabel value="La longitud debe ser solo de caracteres numericos y hasta 6 digitos" 
					style="font-size:12px; color:red;" />
					
					<p:outputLabel for="comuna" value="Comuna:" />
					<p:inputMask id="comuna" value="#{modificacionPOI.comuna}" mask="9?99" maxlength="3" />
					<p:outputLabel value="La comuna debe ser solo de caracteres numericos y hasta 3 digitos" 
					style="font-size:12px; color:red;" />
					
					<p:outputLabel for="etiquetas" value="Etiquetas:" />
					<p:inputMask id="etiquetas" value="#{modificacionPOI.etiquetas}" />
					<p:outputLabel value="Ingrese todas las etiquetas que desee para el POI separadas por un espacio" 
					style="font-size:12px; color:red;" />

					<p:outputLabel for="sucursal" value="Sucursal"
						rendered="#{modificacionPOI.tipoPOI.isBanco()}" />
					<p:inputMask id="sucursal" value="#{modificacionPOI.sucursal}"
						rendered="#{modificacionPOI.tipoPOI.isBanco()}" />
					<h:outputText value="" rendered="#{modificacionPOI.tipoPOI.isBanco()}"/>
					
					<p:outputLabel for="gerente" value="Gerente"
						rendered="#{modificacionPOI.tipoPOI.isBanco()}" />
					<p:inputMask id="gerente" value="#{modificacionPOI.gerente}"
						rendered="#{modificacionPOI.tipoPOI.isBanco()}" />
					<h:outputText value="" rendered="#{modificacionPOI.tipoPOI.isBanco()}"/>
					
					<p:outputLabel for="linea" value="Linea"
						rendered="#{modificacionPOI.tipoPOI.isParada()}" />
					<p:inputMask id="linea" value="#{modificacionPOI.linea}" mask="9?99999" maxlength="6"
						rendered="#{modificacionPOI.tipoPOI.isParada()}" />
					<p:outputLabel value="El numero de linea debe ser solo de caracteres numericos y hasta 6 digitos" 
					style="font-size:12px; color:red;" 
					rendered="#{modificacionPOI.tipoPOI.isParada()}" />

					<p:outputLabel for="director" value="Director"
						rendered="#{modificacionPOI.tipoPOI.isCGP()}" />
					<p:inputMask id="director" value="#{modificacionPOI.director}"
						rendered="#{modificacionPOI.tipoPOI.isCGP()}" />
					<h:outputText value="" rendered="#{modificacionPOI.tipoPOI.isCGP()}"/>
					
					<p:outputLabel for="telefono" value="Telefono"
						rendered="#{modificacionPOI.tipoPOI.isCGP()}" />
					<p:inputMask id="telefono" value="#{modificacionPOI.telefono}"
						rendered="#{modificacionPOI.tipoPOI.isCGP()}" />
					<h:outputText value="" rendered="#{modificacionPOI.tipoPOI.isCGP()}"/>
					
					<p:outputLabel for="rubro" value="Rubro"
						rendered="#{modificacionPOI.tipoPOI.isLocal()}" />
					<p:inputMask id="rubro" value="#{modificacionPOI.rubro}"
						rendered="#{modificacionPOI.tipoPOI.isLocal()}" required="true" />
					<h:outputText value="" rendered="#{modificacionPOI.tipoPOI.isLocal()}"/>
					
					<p:outputLabel for="cercania" value="Cercania"
						rendered="#{modificacionPOI.tipoPOI.isNotParada()}" />
					<p:inputMask id="cercania" value="#{modificacionPOI.cercania}" mask="9?99999" maxlength="6"
						rendered="#{modificacionPOI.tipoPOI.isNotParada()}" />
					<p:outputLabel value="La cercania debe ser solo de caracteres numericos y hasta 6 digitos
					Indicar cantidad de metros" 
					style="font-size:12px; color:red;" 
					rendered="#{modificacionPOI.tipoPOI.isNotParada()}" />
						

					<p:outputLabel for="diasLocal" value="Dias Disponible"
						rendered="#{modificacionPOI.tipoPOI.isLocal()}" />
					<p:selectCheckboxMenu id="diasLocal"
						value="#{modificacionPOI.diasLocalSeleccionados}" label="Dias"
						panelStyle="width:250px" rendered="#{modificacionPOI.tipoPOI.isLocal()}">
						<f:selectItems value="#{modificacionPOI.dias}" />
					</p:selectCheckboxMenu>
					<h:outputText value="" rendered="#{modificacionPOI.tipoPOI.isLocal()}"/>

					<p:outputLabel for="horasLocal" value="Horario Disponible"
						rendered="#{modificacionPOI.tipoPOI.isLocal()}" />
					<p:selectCheckboxMenu id="horasLocal"
						value="#{modificacionPOI.horasLocalSeleccionados}" label="Horas"
						panelStyle="width:250px" rendered="#{modificacionPOI.tipoPOI.isLocal()}">
						<f:selectItems value="#{modificacionPOI.horas}" />
					</p:selectCheckboxMenu>
					<h:outputText value="" rendered="#{modificacionPOI.tipoPOI.isLocal()}"/>

				</h:panelGrid>

				<p:dataTable id="Servicios" var="nodoServicio"
					value="#{modificacionPOI.servicios}"
					rendered="#{modificacionPOI.tipoPOI.isCGP()||modificacionPOI.tipoPOI.isBanco()}">
					<p:column headerText="Servicios">
						<h:outputText value="#{nodoServicio.nombre}" />
					</p:column>
					<p:column headerText="Dias">
						<p:commandButton id="botonDias" value="Dias" type="button" />
						<p:overlayPanel id="listaDias" for="botonDias" hideEffect="fade">
							<h:outputText value="Domingo&lt;br /&gt;"
								rendered="#{nodoServicio.isDomingo()}" escape="false" />
							<h:outputText value="Lunes&lt;br /&gt;"
								rendered="#{nodoServicio.isLunes()}" escape="false" />
							<h:outputText value="Martes&lt;br /&gt;"
								rendered="#{nodoServicio.isMartes()}" escape="false" />
							<h:outputText value="Miercoles&lt;br /&gt;"
								rendered="#{nodoServicio.isMiercoles()}" escape="false" />
							<h:outputText value="Jueves&lt;br /&gt;"
								rendered="#{nodoServicio.isJueves()}" escape="false" />
							<h:outputText value="Viernes&lt;br /&gt;"
								rendered="#{nodoServicio.isViernes()}" escape="false" />
							<h:outputText value="Sabado&lt;br /&gt;"
								rendered="#{nodoServicio.isSabado()}" escape="false" />
						</p:overlayPanel>
					</p:column>
					<p:column headerText="Desde">
						<h:outputText value="#{nodoServicio.horaInicio}" />
					</p:column>
					<p:column headerText="Hasta">
						<h:outputText value="#{nodoServicio.horaFin}" />
					</p:column>
					<p:column style="width:32px;text-align: center">
						<p:commandButton icon="ui-icon-trash" title="Borrar este servicio"
							actionListener="#{modificacionPOI.removeServicio(nodoServicio)}"
							update="Servicios" immediate="true" />
					</p:column>
				</p:dataTable>

				<h:panelGrid columns="2" cellpadding="5"
					rendered="#{modificacionPOI.tipoPOI.isCGP()||modificacionPOI.tipoPOI.isBanco()}">
					<p:commandButton value="Agregar Servicio"
						update=":formDialog:nuevoServicio"
						oncomplete="PF('servDialog').show()" title="View">
					</p:commandButton>
				</h:panelGrid>

				<h:panelGrid columns="2" cellpadding="5">
					<p:commandButton value="Modificar POI" update="panel"
						action="#{modificacionPOI.modificacionPOI}" />
					<p:commandButton value="Volver atras" update="panel"
						action="welcome" immediate="true"/>

				</h:panelGrid>

			</p:panel>
		</h:form>
		<p:dialog header="Nuevo Servicio" widgetVar="servDialog" modal="true"
			showEffect="fade" hideEffect="fade" resizable="f">
			<h:form id="formDialog">
				<p:outputPanel id="nuevoServicio" style="text-align:center;">
					<p:panelGrid columns="2" cellpadding="5">
						<p:outputLabel for="nombre" value="Nombre" />
						<p:inputMask id="nombre"
							value="#{modificacionPOI.nodoServicioCreando.nombre}" />
						<p:outputLabel for="dias" value="Dias" />
						<p:selectCheckboxMenu id="dias"
							value="#{modificacionPOI.diasSeleccionados}" label="Dias"
							panelStyle="width:250px">
							<f:selectItems value="#{modificacionPOI.dias}" />
						</p:selectCheckboxMenu>
						<p:outputLabel for="desde" value="Hora Inicio" />
						<p:autoComplete id="desde" dropdown="true"
							value="#{modificacionPOI.nodoServicioCreando.horaInicio}"
							completeMethod="#{modificacionPOI.completeText}" />
						<p:outputLabel for="hasta" value="Hora Fin" />
						<p:autoComplete id="hasta" dropdown="true"
							value="#{modificacionPOI.nodoServicioCreando.horaFin}"
							completeMethod="#{modificacionPOI.completeText}" />
					</p:panelGrid>
					<h:panelGrid columns="2" cellpadding="5">
						<p:commandButton value="Agregar Servicio"
							action="#{modificacionPOI.agregarServicio()}" update=":form:Servicios"
							oncomplete="PF('servDialog').hide()" title="View" />
						<p:commandButton value="Cancelar" update=":form:Servicios"
							onclick="PF('servDialog').hide()" title="View" />
					</h:panelGrid>
				</p:outputPanel>
			</h:form>
		</p:dialog>
				<p:dialog widgetVar="poiModificadoDialog" modal="true"
			showEffect="fade" hideEffect="fade" resizable="f">
			<h:form id="poiModificadoDialog">
				<h:outputText value="POI Modificado" />
			</h:form>
		</p:dialog>
				<p:dialog header="Error" widgetVar="poiModificadoDialogError" modal="true"
			showEffect="fade" hideEffect="fade" resizable="f">
			<h:form id="poiModificadoDialogError">
				<h:outputText value="Upps!! Hubo un error al modificar un POI" />
			</h:form>
		</p:dialog>
	</ui:define>
</ui:composition>
</html>